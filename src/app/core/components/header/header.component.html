<header class="header">

  <div class="header__wrapper">
    <div>
      <a href="/" title="Startseite">
        <img src="assets/logo/codetekt_V2_rgb@4x.png" width="200" alt="Startseite"/>
      </a>
    </div>

    <div class="header__navigation-main">

      <!-- Not logged in -->
      <nav *ngIf="!authenticated" class="navigation-main">

        <ul class="navigation-main__list">
          <li class="navigation-main__item">
            <a class="navigation-main__link" title="Plattform & Community" [routerLink]="['/landingpage']">Plattform & Community</a>
            <div class="navigation-flyout">
              <ul class="navigation-flyout__list">
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Gelöste Fälle" [routerLink]="['/archive']">Gelöste Fälle</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Fall einreichen" [routerLink]="['/submit']"> Fall
                    einreichen </a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Login" [routerLink]="['/login']">Login</a>
                </li>
                <li class="navigation-flyout__item">
                  <a [routerLink]="['/register']" title="Detektiv*in werden"
                     class="navigation-flyout__link"> Detektiv*in werden </a>
                </li>
              </ul>
            </div>
          </li>
          <li class="navigation-main__item">
            <a class="navigation-main__link" title="Workshops" [routerLink]="['/landingpage']" fragment='workshop'>Workshops</a>
          </li>
          <li class="navigation-main__item">
            <a class="navigation-main__link" title="Über Codetekt" [routerLink]="['/about']">Über Codetekt</a>
            <div class="navigation-flyout">
              <ul class="navigation-flyout__list">
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Der Verein" [routerLink]="['/about']">Der Verein</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Das Team" [routerLink]="['/team']">Das Team</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Trust-Checking"
                     [routerLink]="['/trust-checking']">Trust&#8209;Checking</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="FAQ" [routerLink]="['/faq']">FAQ</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link"
                     href="https://www.betterplace.org/de/projects/98564-gemeinsam-gegen-falschinformationen"
                     title="Spenden" target="_blank">Spenden</a>
                </li>
              </ul>
            </div>
          </li>
        </ul>

      </nav>

      <!-- Logged in -->
      <nav *ngIf="userLoaded" class="navigation-main">

        <ul class="navigation-main__list">
          <li class="navigation-main__item">
            <a class="navigation-main__link color-blue" title="Fall bearbeiten" [routerLink]="['/']"
               fragment="open-cases">
              <i class="fas fa-clipboard-list-check"></i>
              Fall bearbeiten</a>
          </li>
          <li class="navigation-main__item">
            <a class="navigation-main__link" routerLink="/submit">
              <!-- i class="fas fa-typewriter"></i-->
              Fall einreichen
            </a>
          </li>
          <li class="navigation-main__item">
            <a class="navigation-main__link" title="Gelöste Fälle" [routerLink]="['/archive']">Gelöste Fälle</a>
          </li>
          <li class="navigation-main__item">
            <a class="navigation-main__link" title="Über Codetekt" [routerLink]="['/landingpage']">Über Codetekt</a>
            <div class="navigation-flyout">
              <ul class="navigation-flyout__list">
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Der Verein" [routerLink]="['/about']">Der Verein</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Das Team" [routerLink]="['/team']">Das Team</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Workshops" [routerLink]="['/landingpage']"
                     fragment='workshop'>Workshops</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Trust-Checking"
                     [routerLink]="['/trust-checking']">Trust&#8209;Checking</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="FAQ" [routerLink]="['/faq']">FAQ</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link"
                     href="https://www.betterplace.org/de/projects/98564-gemeinsam-gegen-falschinformationen"
                     title="Spenden" target="_blank">Spenden</a>
                </li>
              </ul>
            </div>
          </li>
          <li class="navigation-main__item">
            <div class="userprofile" [routerLink]="['/']">
              <div class="userprofile__content">
                <div class="userprofile__name-wrapper">
                  <div class="userprofile__award userprofile__award--gold"></div>
                  <div class="userprofile__name">
                    {{user.name}}
                  </div>
                </div>
                <div class="userprofile__title">
                  {{user.level_description}}
                </div>
              </div>

              <div class="userprofile__bubble" style="background-color: #722ED1;">
                {{ user.name[0].toUpperCase() }}
              </div>

              <div class="userprofile__flyout-call"></div>
            </div>
            <div class="navigation-flyout">
              <ul class="navigation-flyout__list">
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Profil" [routerLink]="['/']">Profil</a>
                </li>
                <li class="navigation-flyout__item">
                  <a class="navigation-flyout__link" title="Rangliste" [routerLink]="['/leaderboard']">Rangliste</a>
                </li>
                <li class="navigation-flyout__item">
                  <a (click)="logout()" class="navigation-flyout__link" title="Abmelden">Abmelden</a>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </nav>
    </div>

    <div class="header__navigation-mobile">
      <nav class="navigation-mobile">
        <button mat-icon-button aria-label="hamburger-menu-button" (click)="openMenuDialog()">
          <mat-icon>menu</mat-icon>
        </button>
        <!-- Here be Overlay Stuff -->
      </nav>
    </div>
  </div>
  <div *ngIf="messageBarOpen" class="message-bar">
    <div class="message-container">
      <a href="https://mitwirken-crowd.de/codetekt" target="_blank">
        <p>Unterstütze unser Crowdfunding und sichere dir eine coole Prämie!<i class="far fa-gift"></i></p>
      </a>
      <i class="fas fa-times" (click)="messageBarOpen=false"></i>
    </div>
  </div>
</header>
